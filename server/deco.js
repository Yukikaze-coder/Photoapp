import express from 'express';
import cors from 'cors';
import { fileURLToPath } from 'url';
import knex from './knex.js';
import bcrypt from 'bcrypt';
import path from 'path';
import jwt from 'jsonwebtoken';
import imageRouter from './routes/photoRoutes.js'
import signupRouter from './routes/signupRoute.js'
import authMiddleware from './middleWare/auth.js'
import commentRouter from './routes/commentRouter.js';
const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwiZW1haWwiOiJhZG9sZiBoaXRsZXIiLCJwYXNzd29yZCI6IiQyYiQxMCRWUUNNelFTYUZRNEd6cXRHcVBoTFFPRzQuUGQzb0tKYmlJWlFLcDdDb1g1N3ZCSzNVSk9ieSIsIm5hbWUiOiJoaXRsZXIiLCJjcmVhdGVkX2F0IjoiMjAyNS0wNS0wMlQwMDo1Njo0NS42ODlaIiwidXBkYXRlZF9hdCI6IjIwMjUtMDUtMDJUMDA6NTY6NDUuNjg5WiIsInRva2VuIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBaQ0k2TWl3aVpXMWhhV3dpT2lKaFpHOXNaaUJvYVhSc1pYSWlMQ0p3WVhOemQyOXlaQ0k2SWlReVlpUXhNQ1JXVVVOTmVsRlRZVVpSTkVkNmNYUkhjVkJvVEZGUFJ6UXVVR1F6YjB0S1ltbEpXbEZMY0RkRGIxZzFOM1pDU3pOVlNrOWllU0lzSW01aGJXVWlPaUpvYVhSc1pYSWlMQ0pqY21WaGRHVmtYMkYwSWpvaU1qQXlOUzB3TlMwd01sUXdNRG8xTmpvME5TNDJPRGxhSWl3aWRYQmtZWFJsWkY5aGRDSTZJakl3TWpVdE1EVXRNREpVTURBNk5UWTZORFV1TmpnNVdpSXNJblJ2YTJWdUlqb2laWGxLYUdKSFkybFBhVXBKVlhwSk1VNXBTWE5KYmxJMVkwTkpOa2xyY0ZoV1EwbzVMbVY1U25CYVEwazJUV2wzYVZwWE1XaGhWM2RwVDJsS2FGcEhPWE5hYVVKdllWaFNjMXBZU1dsTVEwcDNXVmhPZW1ReU9YbGFRMGsyU1dsUmVWbHBVWGhOUTFKWFZWVk9UbVZzUmxSWlZWcFNUa1ZrTm1OWVVraGpWa0p2VkVaR1VGSjZVWFZWUjFGNllqQjBTMWx0YkVwWGJFWk1ZMFJrUkdJeFp6Rk9NMXBEVTNwT1ZsTnJPV2xsVTBselNXMDFhR0pYVldsUGFVcHZZVmhTYzFwWVNXbE1RMHBxWTIxV2FHUkhWbXRZTWtZd1NXcHZhVTFxUVhsT1V6QjNUbE13ZDAxc1VYZE5SRzh4VG1wdk1FNVROREpQUkd4aFNXbDNhV1JZUW10WldGSnNXa1k1YUdSRFNUWkpha2wzVFdwVmRFMUVWWFJOUkVwVlRVUkJOazVVV1RaT1JGVjFUbXBuTlZkcFNYTkpibEoyWVRKV2RVbHFiMmxhV0d4TFlVZEtTRmt5YkZCaFZYQktWbGh3U2sxVk5YQlRXRTVLWW14Sk1Wa3dUa3BPYTJ4eVkwWm9WMUV3YnpWTWJWWTFVMjVDWVZFd2F6SlVWMnd6WVZad1dFMVhhR2hXTTJSd1ZESnNTMkZHY0VoUFdFNWhZVlZLZGxsV2FGTmpNWEJaVTFkc1RWRXdjRE5YVm1oUFpXMVJlVTlZYkdGUk1Hc3lVMWRzVW1WV2JIQlZXR2hPVVRGS1dGWldWazlVYlZaelVteFNXbFpXY0ZOVWExWnJUbTFPV1ZWcmFHcFdhMHAyVmtWYVIxVkdTalpWV0ZaV1VqRkdObGxxUWpCVE1XeDBZa1Z3V0dKRldrMVpNRkpyVWtkSmVGcDZSazlOTVhCRVZUTndUMVpzVG5KUFYyeHNWVEJzZWxOWE1ERmhSMHBZVmxkc1VHRlZjSFpaVm1oVFl6RndXVk5YYkUxUk1IQnhXVEl4VjJGSFVraFdiWFJaVFd0WmQxTlhjSFpoVlRGeFVWaHNUMVY2UWpOVWJFMTNaREF4YzFWWVpFNVNSemg0Vkcxd2RrMUZOVlJPUkVwUVVrZDRhRk5YYkROaFYxSlpVVzEwV2xkR1NuTlhhMWsxWVVkU1JGTlVXa3BoYTJ3elZGZHdWbVJGTVVWV1dGSk9Va1Z3VmxSVlVrSk9helZWVjFSYVQxSkdWakZVYlhCdVRsWmtjRk5ZVGtwaWJFb3lXVlJLVjJSVmJIRmpTRlpyVmpOb2VsUkZUa3RqUm14WlZWZHNVR0ZyVlhwVWExSmFaVVUxUlZsNlRrNVdSM1I2VTFjeFYwNUhUa1JUVkZwT1ZrZE5kMVJ0Y0VaTlZURlZWRmhvVUZkRVFYVmxWR2gxWW01Vk5WcFdjRXhpUnpreFZVZFNhMUpxV1RGak1uaFVUa1ZvU0ZkSGVEWk9XRTVUWkdwa01sVkhSVE5QUjNCR1pHcE9abUo1U1hOSmJXeG9aRU5KTmsxVVl6Qk9ha1V3VDBSRmVFMTVkMmxhV0doM1NXcHZlRTU2VVRKTlZGVjRUbnBGZW1aUkxrVnlRVlp4WldacWNURXdPV2s1Wm1GMVdGVmZNemR0VUhOTVdtRm1aVE5YVTNndFF6TktOM1V4VGpRaUxDSnBZWFFpT2pFM05EWXhORGd4TXpZc0ltVjRjQ0k2TVRjME5qRTFNVGN6Tm4wLnhCYWVtM0hwTkJobjBFZml5OGwyOFNTaFZhbUR6QzBIZzhDMkl6V2N0Y3ciLCJpYXQiOjE3NDYxNDgyNjksImV4cCI6MTc0NjE1MTg2OX0.OZ1TBFBt6w_AiQ0tSmiLvZOV3XYQfFQuUn5PGYL6J08"
let decoded = jwt.verify(token,'supersecret');
console.log(decoded);