import express from 'express';
import cors from 'cors';
import { fileURLToPath } from 'url';

import bcrypt from 'bcrypt';
import path from 'path';
import jwt from 'jsonwebtoken';
import dotenv from 'dotenv';
dotenv.config({ path: '.env' });
const JWT_SECRET = process.env.JWT_SECRET;

const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwiZW1haWwiOiJhZG9sZiBoaXRsZXIiLCJwYXNzd29yZCI6IiQyYiQxMCRWUUNNelFTYUZRNEd6cXRHcVBoTFFPRzQuUGQzb0tKYmlJWlFLcDdDb1g1N3ZCSzNVSk9ieSIsIm5hbWUiOiJoaXRsZXIiLCJjcmVhdGVkX2F0IjoiMjAyNS0wNS0wMlQwMDo1Njo0NS42ODlaIiwidXBkYXRlZF9hdCI6IjIwMjUtMDUtMDJUMDA6NTY6NDUuNjg5WiIsInRva2VuIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBaQ0k2TWl3aVpXMWhhV3dpT2lKaFpHOXNaaUJvYVhSc1pYSWlMQ0p3WVhOemQyOXlaQ0k2SWlReVlpUXhNQ1JXVVVOTmVsRlRZVVpSTkVkNmNYUkhjVkJvVEZGUFJ6UXVVR1F6YjB0S1ltbEpXbEZMY0RkRGIxZzFOM1pDU3pOVlNrOWllU0lzSW01aGJXVWlPaUpvYVhSc1pYSWlMQ0pqY21WaGRHVmtYMkYwSWpvaU1qQXlOUzB3TlMwd01sUXdNRG8xTmpvME5TNDJPRGxhSWl3aWRYQmtZWFJsWkY5aGRDSTZJakl3TWpVdE1EVXRNREpVTURBNk5UWTZORFV1TmpnNVdpSXNJblJ2YTJWdUlqb2laWGxLYUdKSFkybFBhVXBKVlhwSk1VNXBTWE5KYmxJMVkwTkpOa2xyY0ZoV1EwbzVMbVY1U25CYVEwazJUV2wzYVZwWE1XaGhWM2RwVDJsS2FGcEhPWE5hYVVKdllWaFNjMXBZU1dsTVEwcDNXVmhPZW1ReU9YbGFRMGsyU1dsUmVWbHBVWGhOUTFKWFZWVk9UbVZzUmxSWlZWcFNUa1ZrTm1OWVVraGpWa0p2VkVaR1VGSjZVWFZWUjFGNllqQjBTMWx0YkVwWGJFWk1ZMFJrUkdJeFp6Rk9NMXBEVTNwT1ZsTnJPV2xsVTBselNXMDFhR0pYVldsUGFVcHZZVmhTYzFwWVNXbE1RMHBxWTIxV2FHUkhWbXRZTWtZd1NXcHZhVTFxUVhsT1V6QjNUbE13ZDAxc1VYZE5SRzh4VG1wdk1FNVROREpQUkd4aFNXbDNhV1JZUW10WldGSnNXa1k1YUdSRFNUWkpha2wzVFdwVmRFMUVWWFJOUkVwVlRVUkJOazVVV1RaT1JGVjFUbXBuTlZkcFNYTkpibEoyWVRKV2RVbHFiMmxhV0d4TFlVZEtTRmt5YkZCaFZYQktWbGh3U2sxVk5YQlRXRTVLWW14Sk1Wa3dUa3BPYTJ4eVkwWm9WMUV3YnpWTWJWWTFVMjVDWVZFd2F6SlVWMnd6WVZad1dFMVhhR2hXTTJSd1ZESnNTMkZHY0VoUFdFNWhZVlZLZGxsV2FGTmpNWEJaVTFkc1RWRXdjRE5YVm1oUFpXMVJlVTlZYkdGUk1Hc3lVMWRzVW1WV2JIQlZXR2hPVVRGS1dGWldWazlVYlZaelVteFNXbFpXY0ZOVWExWnJUbTFPV1ZWcmFHcFdhMHAyVmtWYVIxVkdTalpWV0ZaV1VqRkdObGxxUWpCVE1XeDBZa1Z3V0dKRldrMVpNRkpyVWtkSmVGcDZSazlOTVhCRVZUTndUMVpzVG5KUFYyeHNWVEJzZWxOWE1ERmhSMHBZVmxkc1VHRlZjSFpaVm1oVFl6RndXVk5YYkUxUk1IQnhXVEl4VjJGSFVraFdiWFJaVFd0WmQxTlhjSFpoVlRGeFVWaHNUMVY2UWpOVWJFMTNaREF4YzFWWVpFNVNSemg0Vkcxd2RrMUZOVlJPUkVwUVVrZDRhRk5YYkROaFYxSlpVVzEwV2xkR1NuTlhhMWsxWVVkU1JGTlVXa3BoYTJ3elZGZHdWbVJGTVVWV1dGSk9Va1Z3VmxSVlVrSk9helZWVjFSYVQxSkdWakZVYlhCdVRsWmtjRk5ZVGtwaWJFb3lXVlJLVjJSVmJIRmlNbXhoVjBkNFRGbFZaRXRUUm10NVlrWkNhRlpZUWt0V2JHaDNVMnN4Vms1WVFsUlhSVFZMV1cxNFNrMVdhM2RVYTNCUFlUSjRlVmt3V205V01VVjNZbnBXVFdKV1dURlZNalZEV1ZaRmQyRjZTbFZXTW5kNldWWmFkMWRGTVZoaFIyaFhUVEpTZDFaRVNuTlRNa1pIWTBWb1VGZEZOV2haVmxaTFpHeHNWMkZHVG1wTldFSmFWVEZrYzFSV1JYZGpSRTVZVm0xb1VGcFhNVkpsVlRsWllrZEdVazFIYzNsVk1XUnpWVzFXVjJKSVFsWlhSMmhQVlZSR1MxZEdXbGRXYXpsVllsWmFlbFZ0ZUZOWGJGcFhZMFpPVldFeFduSlViVEZQVjFaV2NtRkhjRmRoTUhBeVZtdFdZVkl4VmtkVGFscFdWMFphVjFWcVJrZE9iR3h4VVdwQ1ZFMVhlREJaYTFaM1YwZEtSbGRyTVZwTlJrcHlWV3RrU21WR2NEWlNhemxPVFZoQ1JWWlVUbmRVTVZwelZHNUtVRll5ZUhOV1ZFSnpaV3hPV0UxRVJtaFNNSEJaVm14a2MxVkhSbFpqU0ZwYVZtMW9WRmw2Um5kWFZrNVlZa1V4VWsxSVFuaFhWRWw0VmpKR1NGVnJhRmRpV0ZKYVZGZDBXbVF4VGxoalNGcG9WbFJHZUZWV2FITlVNVlkyVVdwT1ZXSkZNVE5hUkVGNFl6RldXVnBGTlZOU2VtZzBWa2N4ZDJSck1VWk9WbEpQVWtWd1VWVnJaRFJoUms1WVlrUk9hRll4U2xwVlZ6RXdWMnhrUjFOdVRsaGhNV3N4V1ZWa1UxSkdUbFZYYTNCb1lUSjNlbFpHWkhkV2JWSkdUVlZXVjFkR1NrOVZhMVozVm14U1ZsVnJTazloZWxaV1ZqRlNZVlF4U2tkV2FrWlZZbGhDZFZSc1dtdGpSazVaVkd0d2FXSkZiM2xYVmxKTFZqSlNWbUpJUm1sTmJYaG9WakJrTkZSR2JGWmFSWFJVVW0xME5WbHJXa05oUmxwWlVXdDBWMkpIYUROVk1uTjRWbXMxV1ZGc1VsaFNWRlpNVjFjeE5GTnJNVmRoTTJSVllUTkNVRmxVU2pSbFZtdDNWMjA1VjAxVlZqTlpibkJYVkZkS1YxZFVSbFpOYWxaRVYxWmFSbVF5UmpaVGJGWlhUVzVrTmxkV1dtRmtNV1JHVFZab2FGSXlhRmhVVkVwVFpERmFSVk51VGxSTmExcElXVEJXYjFWR1pFWk9WMmhhVm14YVRGcEhlSE5XTWtaSFZHMXdUbGRGU21GV1ZFWnJZekZTVjFKWVpHcFNSVFZaVm0weGIxVkdjRmhOVmtwc1ZsUnNXbGxyWkVkVmF6RklZek5zVmsxWFVucFdWekZYVmpKS1NWRnNXbGhTTW1oUVZsWlNSMU14WkVkWGJHUlhZWHBzVmxsc1dtRmxiRlowWlVaT1dHSkdjRmhaTUZwUFZsZEZlRmR1U2xWaVZFWlFWakZhVjJOdFJraGpSbVJvVFVoQmVWWnRkRmRaVmtsNFZtdGtWR0ZzY0ZkV01GcGhWakZXY1ZKclpFOWlSM2g0VlZkd1ExWkZNVmhsUkVKYVlURmFNMVl3WkV0U2JHUnlUVlp3VGxKcmNIbFdWM1JyVTIxV1IyTkVXbE5oZW14UFZGWm9RMUpXV2xWVWJtUlZUVlp3ZWxaSE5VdFZSbGw1WlVoT1YxWkZTbnBhVjNoUFYwVXhSVkp0YUZOTlNFSmFWbTE0YTJNeFZraFNiRnBxVTBad1lWWnRNVzlXUm13MlVtNWtXRlpyTlZsWmExVjRWV3N4U1ZGdWFGaFdSV3cwVm1wS1IxTkdWbkpoUm1ScFYwWktZVlpHWkRCWGJWRjRWR3hvYWxOR2NHOVdiRkpIWlVaV1YyRklUbFZOVmxreVZWZHdUMVpYU2taTlZFNWhVa1ZHTkZsNlJsZFhWbkJHVGxaT1UyVnRaekJXYTJONFpESlNjazFWV2s5V2JFcFFWV3RXZDFWV1ZuSmFSRkpvVW1zMVdWbHJVazloUmxsNFUyeHdWbFo2UlhkV01uaHJVakZPZFZSc2FHaE5WM040VjFaV2ExVXhTa2RVYkZaWVlUTkNiMWxVU2pObGJGcEhXa2hrVjJKV1NrZFVWbFpYVmpGa1IxTnJPVlpoTVZvelZtMTRVMVpzVm5KVGF6bG9aV3hhVjFacVJsTlpWbEY0VTJ0a1YyRnJXbFpaYkdoRFpGWlNjMWR0ZEdwU2F6VmFWa2QwZDJGWFNrWmlNMnhZVm14S1RGWnFTbE5XYlVwSlVtMXNUbUpZYUc5V2FrSnJUa1pTUjJKR1dtRlNXRkpWVlcweE1FNVdiSEpYYTA1b1VteHdXbFZYZERCV01rcElZVVJPVmsxdVRqUldiWE14VjFaR2MxVnNhRk5XUmxwTlZqRmplRTVHVG5KTlZtUm9UVEpTVmxsVVRrTlZSbXhWVTJwU2JGWnRkRE5XTWpBMVZqQXhWbFpxVGxwaWJrSllWa1prUzFZeFpGVlNiRnBPWVd4YVJWWXhXbUZTYlZGNVVtcGFWR0pHV2xoVVZ6VnJUbXhrVjFkdFJtdE5WMUpIVkZaYWIyRkdTWGxoUm1oVlZrVndWRnBFUm1GU1ZrNTFWR3hTVG1FeGNFbFhWRUpYWWpGV1IxcEZXazlXTW1oaFZtMTRZVlJHY0VobFNFNVhUV3RhU0ZaSE1YZFViR1JHVTIxR1YxWkZXbkpaZWtaVFZqRktXVnBIY0ZOU1ZGWmFWbTB3ZUdJeFZrZGpSbWhPVm10d2MxWnNVbk5YYkd4eVdrVmtWbUY2UmtsWmVrNXpWbXN4V0ZWdWNGZFdla1pZVm1wS1MxTldSbk5YYkdoVFRXMW9VVlpzV2xOU01VMTRXa1ZrV0dKSFVsaFpXSEJ6Vm14c2MxZHRSbXhpUmxvd1dsVmFUMWRIU2tkalJtaGFUVVp3VUZac1pFWmxSbVIxVTJ4V2FWWkZXbEZXYWtaaFZqSk9kRkpyYUdwU2JWSnZWRlZvUW1WV1duUmtSbVJhVm10c05GWnRkR3RXUjBaelkwWmtWMDFHY0doV2FrWlhZMVpLY2xwRk9XbFNNMmcwVmxaa2QxRXhXa1pOVm1oc1VrVktZVmxVUm1GTk1WbDNXa1YwVTJKSFVubFVWbHAzVkd4S2NtTkliRmRXTTFKeVZUSXhWMUl5VGtWWGJFNW9aVzE0VUZaR1dtOVJNVXBYVjJ4V1ZXSnRVbFpVVmxwM1pXeGFTRTVWZEZaU2JHdzFXbFZvVDFZeFdrWlRibkJoVmpOb1VGWXdWWGhTVmtwMFlVWk9UbE5GU21GV2JURTBZVEpOZUZacmFGTmlSbkJ4VlRCYWQxbFdXblJOVnpsWFVtMTNNbFZ0Tld0WFJscHlUbFpzV21FeFZqUldWM040VTFaR2RXRkdhRmRTVjNjd1ZtMXdTMUl4VGtkV2JrcG9VbTFTY0ZZd1drdFpWbHBIV2tSQ1dHSldSalJXUjNodllXeE9SMk5IT1ZkaVJrcElXbFZhVjFZeVJrbFViRlpPVm14cmVWWldaSGRVTVZwWVUydGFUbFpGTldoVmExWkhUa1pzTmxKc1pGaFdia0pIVkd4YVQxVXlWblJhZWtKWFlUSk9ORnBFU2xOamF6RldWMnM1VjJKRmNGRldWM1JYWkRGV1YxWnVTbUZTUmtwdlZXMXpNVmRXYkhKVmF6bG9VbXhzTkZVeWVIZFdiRm8yVWxoa1YwMXVhSEpWYWtaUFpGWlNjMkZIYUU1V00wNDBWakZhVjJFeFZYaFRhMlJWWWtaYVdWbFVUa05pTVd4VlUycE9iR0pHY0VoWGEyaHJWakpLVjFOclpGVldiRnBZVm1wR2ExSXhUbkpQVmxwb1RWWnZlbFp0TVRSVk1WcHpWbTVLVkdGNmJHOWFWM2hoVmpGYWNWSnNUbHBXYkVZMFZUSjBhMVl5Um5KWGJGcGFZa2RvUkZwR1dsTmpNV1IwWkVkd1UyRjZWbUZXYTJRd1pESkdXRk5yV21sTk1uaFpWbTE0UzFSR1duRlRiRTVYWWxWd1NsVnRNWGRXUmtwelkwaHNWMkpZUWxCWmFrcFhZekZXY2xkc1ZtaE5NVXA0Vmxjd2VFNUdaSE5YYkdSaFUwVTFWMVZxUW1GbFZscHpZVWhrVjFZd1ZqUlZNakZIV1ZaYVYxWllhRlppUm5CNlZHMTRVMk5yTlZkYVJrNU9UVlZyZVZac1VrZGhiVlpIVjFoa1QxWlhhRlpaVkVaTFZsWmFjbGR1WkZWTlZuQjVWMnRWTVdFd01WZFRha0phVFVaYWFGWkhlR0ZXVmtwelYyeGtVMkpYYURKV2JGWmhZVEZLVjFKc2JGZGlXR2hZVldwS2JtVkdaRmhOUkVaWFlYcFdXRmt3V210aGJFcFpZVWhDVm1KdVFubGFWVnBoVm14d1IxUnRhRTVXV0VJMFZtcEdVMUl5Um5KTldGWm9VbXhhVmxsVVJtRmtiRlYzVjIxMFZGSXhXa1pXTW5NMVYwWktWVlpzVmxoaE1sSXpXVlJCZUdNeFduSmhSazVYVWxSV1VsWlhjRTlSTVVsNFkwVm9hbEpVYkdoWmJGWjJUVlpWZUdGRk9WUmlWWEJaV2xWak5WbFdTbFpPVlhSVllsaE9ORlpzV25OT2JFWnlUMWRvYUUxV1dYcFdhMUpEVlRGS2RGWnJXazVXUmxweVZGY3hOR0ZHV1hkYVJ6bE9UVlUxV1Zrd2FHRmlSa3BWVmxSS1YxWnNTa3hXUjNoaFVqRmFjVlZzVm1saWEwcElWMnhqZUZsV1ZuSmxTRXBYWW0xNFUxWnRlSGRPUm1SeldrZEdhbFl3TlZaVmJHaHJWVVpaZVdONlJsaGlWRVpJVkZaYWExSXhXblJYYXpWc1lsWkpkMVpzVm05VU1WSlhXa2hTVTJKVVJtaFdhMVV4VjFaYVZWUnROV3RTYTFreVZrZDBNRlF3TUhoV2FsSlhVak5DVTFsV1ZqUlNSazUxVVd4d1dGSnJXbmRXUkVwM1Vtc3dkMDVWVmxoWFIyaFFWV3RrYTA1R1VsbGpSbkJxVFVkNE1GWnRjRk5oYkVWM1lYcEtWVlpzU25GVVZWVXhZMVpLVlZKck5WZFNNRFF5Vmtjd01HUXdlSFZoUlU1YVZqRmFNRlJVUW05a01WSnlVMjA1YVdGclNrZFhiVEZ6VGxVNVNHUXpiRkJTYXpWVldWVmFZV0ZIU2xaVmFscFNaV3RLU2xkdWNHOVNSVEZ5WWtSYVYwMXJOSGRYVkU1cVlWVjRSRk51UWxwWFJrWndWREp3Umswd05VVlhXR2hQVWtka05WUnRjSEpqTUd4MFZtcFNhbEV3YXpKVVZsSnFUVVUxY1ZKVVJrNVdSMk41VkRGbmQweHJPV0ZOVmxKRFVtdEtNRTV1WkdaUlYyeFNUVWhTVkdKWGJFMWtiSEJRVm1wT1dWZFdSbTFTYkVZeFZsYzBNVlZGWkZwVVJGcExUVVJuYVV4RFNuQlpXRkZwVDJwRk0wNUVXWGhPUkd0NlRYcFpjMGx0VmpSalEwazJUVlJqTUU1cVJURk5hbXQ2VG00d0xsWlpZMkpRTkMwNWFqY3pSWE5rYzNCc2RIY3lPV015YWtNNWJIVkxaMUZuVVZCQ1QyeHNhRVIxWVUwaUxDSnBZWFFpT2pFM05EWXhOVEF6TVRnc0ltVjRjQ0k2TVRjME5qRTFNemt4T0gwLnU5OGVTd2dnVHdKemlNZldrRmQxMVdVWGtTY3RMR0xGcVlaRGNUWjBpdVEiLCJpYXQiOjE3NDYxNTA3NDQsImV4cCI6MTc0NjE1NDM0NH0.nfhh45UbLMUBjr0u7rGenU8Y6m_2FfQpGn5BzHOUDpc"
console.log(jwt.verify(token,JWT_SECRET));

